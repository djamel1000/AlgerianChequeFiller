<Window x:Class="AlgerianChequeFiller.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:AlgerianChequeFiller.ViewModels"
        Title="Algerian Cheque Filler - Impression de ChÃ¨ques"
        Width="1200" Height="800"
        MinWidth="900" MinHeight="600"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

    <Window.DataContext>
        <vm:ChequeFormViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel: Form -->
        <Border Grid.Column="0" Background="{StaticResource SurfaceBrush}"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
                <StackPanel>
                    <!-- Header -->
                    <TextBlock Text="ðŸ’° Algerian Cheque Filler"
                               FontSize="24" FontWeight="Bold"
                               Foreground="{StaticResource TextPrimaryBrush}"/>
                    <TextBlock Text="Impression prÃ©cise de chÃ¨ques algÃ©riens"
                               FontSize="13" Foreground="{StaticResource TextSecondaryBrush}"
                               Margin="0,4,0,32"/>

                    <!-- Amount -->
                    <TextBlock Text="Montant (DA)" Style="{StaticResource FormLabel}"/>
                    <TextBox x:Name="AmountTextBox"
                             Style="{StaticResource InputTextBox}"
                             Text="{Binding AmountText, UpdateSourceTrigger=PropertyChanged}"
                             Margin="0,0,0,20"/>

                    <!-- Amount in Words (Read-only display) -->
                    <TextBlock Text="Montant en lettres" Style="{StaticResource FormLabel}"/>
                    <Border Background="#F1F5F9" CornerRadius="6" Padding="12" Margin="0,0,0,20">
                        <TextBlock Text="{Binding AmountInWords}"
                                   FontSize="13" FontStyle="Italic"
                                   TextWrapping="Wrap" MaxWidth="340"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                    </Border>

                    <!-- Beneficiary -->
                    <TextBlock Text="BÃ©nÃ©ficiaire" Style="{StaticResource FormLabel}"/>
                    <TextBox Style="{StaticResource InputTextBox}"
                             Text="{Binding Beneficiary, UpdateSourceTrigger=PropertyChanged}"
                             Margin="0,0,0,20"/>

                    <!-- Place -->
                    <TextBlock Text="Lieu" Style="{StaticResource FormLabel}"/>
                    <TextBox Style="{StaticResource InputTextBox}"
                             Text="{Binding Place, UpdateSourceTrigger=PropertyChanged}"
                             Margin="0,0,0,20"/>

                    <!-- Date -->
                    <TextBlock Text="Date" Style="{StaticResource FormLabel}"/>
                    <DatePicker SelectedDate="{Binding Date}"
                                FontSize="14" Margin="0,0,0,20"/>

                    <!-- Language -->
                    <TextBlock Text="Langue du montant" Style="{StaticResource FormLabel}"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,24">
                        <RadioButton Content="FranÃ§ais"
                                     IsChecked="{Binding IsFrench}"
                                     Style="{StaticResource LanguageRadioButton}"/>
                        <RadioButton Content="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
                                     IsChecked="{Binding IsArabic}"
                                     Style="{StaticResource LanguageRadioButton}"
                                     FontFamily="Segoe UI"/>
                        <RadioButton Content="English"
                                     IsChecked="{Binding IsEnglish}"
                                     Style="{StaticResource LanguageRadioButton}"/>
                    </StackPanel>

                    <!-- Separator -->
                    <Separator Margin="0,8,0,24"/>

                    <!-- Print Buttons -->
                    <Button Content="ðŸ–¨ï¸ Imprimer le ChÃ¨que"
                            Style="{StaticResource PrimaryButton}"
                            Command="{Binding PrintCommand}"
                            Margin="0,0,0,12"/>

                    <Button Content="ðŸŽ¯ Test d'Alignement"
                            Style="{StaticResource SecondaryButton}"
                            Command="{Binding TestPrintCommand}"/>

                    <!-- Help Text -->
                    <Border Background="#EFF6FF" CornerRadius="8" Padding="12" Margin="0,24,0,0">
                        <TextBlock TextWrapping="Wrap" FontSize="12" LineHeight="18"
                                   Foreground="#1E40AF">
                            ðŸ’¡ <Run FontWeight="SemiBold">Conseil:</Run> Utilisez d'abord le test d'alignement sur une feuille blanche pour vÃ©rifier le positionnement avant d'imprimer sur un vrai chÃ¨que.
                        </TextBlock>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Right Panel: Preview -->
        <Grid Grid.Column="1" Background="{StaticResource BackgroundBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Preview Header -->
            <Border Grid.Row="0" Background="{StaticResource SurfaceBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,0,0,1" Padding="24,16">
                <TextBlock Text="AperÃ§u du chÃ¨que"
                           FontSize="18" FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimaryBrush}"/>
            </Border>

            <!-- Preview Area -->
            <Border Grid.Row="1" Margin="32">
                <Border Style="{StaticResource Card}">
                    <Viewbox Stretch="Uniform" MaxWidth="800">
                        <!-- Cheque Preview -->
                        <Border BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="1" CornerRadius="4"
                                Background="White">
                            <Image Source="{Binding PreviewImage}"
                                   Width="604" Height="302"
                                   RenderOptions.BitmapScalingMode="HighQuality"/>
                        </Border>
                    </Viewbox>
                </Border>
            </Border>
        </Grid>
    </Grid>
</Window>
